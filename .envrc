# Automatically load Nix environment when entering directory
# Requires direnv: https://direnv.net/

# Use flakes if available, otherwise fall back to shell.nix
if has nix_direnv_version || has nix; then
  if [ -f flake.nix ]; then
    use flake
  elif [ -f shell.nix ]; then
    use nix
  fi
fi

# Activate Python virtual environment
if [ -d .venv ]; then
  source .venv/bin/activate
fi

# Add local npm binaries to PATH
PATH_add node_modules/.bin
PATH_add frontend/admin-panel/node_modules/.bin
PATH_add frontend/public-website/node_modules/.bin

# Set AWS region
export AWS_REGION=us-west-2

# Set Node environment
export NODE_ENV=development

# Python path
export PYTHONPATH=$PWD
